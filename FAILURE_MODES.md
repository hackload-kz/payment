<!--
SPDX-FileCopyrightText: 2024-2025 Friedrich von Never <friedrich@fornever.me>

SPDX-License-Identifier: MIT
-->
Список точек отказа поддерживаемых сервисом
===========================================

Список симулируемых точек отказа.
- Сбой связи после получения запроса от Билеттер
- Сбой связи при отправке ответа после приема информациии о банковской карте
- Сбой получения информации о карте от банка-экавайера
- Сбой отправки уведомления о статусе транзации в Билеттер

# Сбой связи после получения запроса от Билеттер

Предположим что Билеттер отправил запрос на оплату, и о время отправки успешного ответа клиенту произошел сбой. Это означает что платежный шлюз зарегистрировал транзакцию, 
но наш Билеттер не получил ответ. Со стороны Билеттера это означает что надо отправить ответ еще раз, платежный шлюз в свою очередь гарантирует что он вернет тот же самый ответ, 
что он вернул бы изначально.

У сервиса есть параметр конфигурации который будет определять вероятность сбоя. Значение по умолчанию 0%. В случае срабатывания, веб-сервер задерживает обработку запроса на 1 минуту, 
симулируя плохой интернет или делает внезапный аборт подключения, симулируя сетевой сбой между Билеттер и платежным шлюзом.

# Сбой связи при отправке ответа после приема информациии о банковской карте

После принятия успешного запроса на оплату, платежный шлюз отправляет адрес ссылки куда перенаправить клиента чтобы принять его банковскую карту. Это обычная веб-форма, 
которая принимает данные. По разным причинам форма оплаты может дать сбой при отправке, например при плохом интернетом. Платежный сервис позволяет повторить идентичный запрос несколько раз в течение определенного промежутка времени. 

У сервиса есть параметр конфигурации который будет определять вероятность сбоя. Значение по умолчанию 0%. В случае срабатывания, веб-сервер задерживает обработку запроса на 1 минуту, 
симулируя плохой интернет или делает внезапный аборт подключения, симулируя сетевой сбой между платежным шлюзом и браузером клиента Билеттер.

# Сбой получения информации о карте от банка-экавайера

После получения данных о платежной карте клиента платежный шлюз отправляет запрос на проверку карты в систему банка-эквайера.
При взаимодействии с банком, у нам может быть следующие как штатные, так и нештатные ситуации. Мы должны симулировать разные варианты ошибок.
- Ошибка сетевого подключения к системе банка эмитента
- Ошибка авторизации в системе банка-эмитента
- Карта подозревается в фроде и транзакция заблокирована
- Карта не поддерживает онлайн-платежи
- Карта не поддерживает 3D Secure

# Сбой отправки уведомления о статусе транзации в Билеттер

Предположим что точка приема уведомления от платежной системы в Билеттер не работает. Система будет отправлять повторно запросы, но предположим что платежная система работает некорректно, и по каким то причинам уведомление от платежной системы не дошло до Билеттер

У сервиса есть параметр конфигурации который будет определять диапазон задержки в секундах при отправке уведомления об успешном совершении транзации.

Также у сервиса есть параметр конфигурации который определяет вероятность того что уведомление от платежной системы не дойдет до Билеттер.