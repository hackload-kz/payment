<script>
    import { onMount } from 'svelte';
    import { booksStore } from '$lib/stores.js';

    let books = [];

    onMount(() => {
        const unsubscribe = booksStore.subscribe(value => {
            books = value;
        });

        return unsubscribe;
    });
</script>

<svelte:head>
    <title>–ö–Ω–∏–∂–Ω—ã–π –º–∞–≥–∞–∑–∏–Ω - –ü—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ</title>
    <meta name="description" content="–õ—É—á—à–∏–µ –∫–Ω–∏–≥–∏ –ø–æ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—é –≤ –ö–∞–∑–∞—Ö—Å—Ç–∞–Ω–µ" />
</svelte:head>

<div class="container">
    <header>
        <h1>üìö –ö–Ω–∏–∂–Ω—ã–π –º–∞–≥–∞–∑–∏–Ω</h1>
        <p class="subtitle">–õ—É—á—à–∏–µ –∫–Ω–∏–≥–∏ –ø–æ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—é</p>
    </header>

    <div class="catalog-grid">
        {#each books as book}
            <a href="/book/{book.id}" class="book-card">
                <div class="book-image">{book.image}</div>
                <h3 class="book-title">{book.name}</h3>
                <p class="book-author">–ê–≤—Ç–æ—Ä: {book.authors}</p>
                <p class="book-description">{book.description}</p>
            </a>
        {/each}
    </div>
</div>